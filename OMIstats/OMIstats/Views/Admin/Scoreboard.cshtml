@model OMIstats.Models.OmegaUp

@section AddToHead
{
    <link href="~/Content/admin.css" type="text/css" rel="stylesheet" />
    <link href="~/Content/formas.css" type="text/css" rel="stylesheet" />
    <link href="~/Content/profile.css" type="text/css" rel="stylesheet" />
}

@{
    ViewBag.Title = "Scoreboard Management";

    OMIstats.Models.OmegaUp status = null;
    List<OMIstats.Models.OmegaUp> polls = ViewBag.polls;

    if (ViewBag.status.Count > 0)
    {
        status = ViewBag.status[0];
    }
}

<h2 class="titulo">Scoreboard Management</h2>

<div>
    <div class="status">STATUS: </div>
    @if (status == null)
    {
        <div class="not-started">
            NOT STARTED
        </div>
        <a href="@Url.Content("~/Admin/StartScoreboard")" class="start-button">START</a>
    } else {
        if (status.status == OMIstats.Models.OmegaUp.Status.OK)
        {
            <div class="online">
                ONLINE
            </div>
        } else {
            <div class="not-started">
                ERROR!
            </div>
            <a href="@Url.Content("~/Admin/StartScoreboard")" class="start-button">RE-START</a>
        }
    }
</div>

<h3 class="subtitulo">Polls activos:</h3>

@if (polls.Count == 0)
{
    <div class="no-polls">--- No hay polls activos ---</div>
} else {
    <table>
        <thead>
            <tr>
                <td>Olimpiada</td>
                <td>Tipo</td>
                <td>Día</td>
                <td>Concurso</td>
                <td>Token</td>
                <td>Prefijo</td>
                <td>Ping</td>
                <td>Status</td>
                <td>Timestamp</td>
                <td></td>
            </tr>
        </thead>
    </table>
}

<h3 class="subtitulo">Agregar poll:</h3>

@using (@Html.BeginForm())
{
    <div>
        <div class="label"> Olimpiada: </div>
        <div class="input"> @Html.EditorFor(model => model.olimpiada) </div>
    </div>
    <div>
        <div class="label"> OMI / OMIP / OMIS: </div>
        <div class="input"> @Html.EditorFor(model => model.tipoOlimpiada) </div>
    </div>
    <div>
        <div class="label"> Día: </div>
        <div class="input"> @Html.EditorFor(model => model.dia) </div>
    </div>
    <div>
        <div class="label"> Concurso: </div>
        <div class="input"> @Html.EditorFor(model => model.concurso) </div>
    </div>
    <div>
        <div class="label"> Token: </div>
        <div class="input"> @Html.EditorFor(model => model.token) </div>
    </div>
    <div>
        <div class="label"> Prefijo: </div>
        <div class="input"> @Html.EditorFor(model => model.prefijo) </div>
    </div>
    <div>
        <div class="label"> Ping: </div>
        <div class="input"> @Html.EditorFor(model => model.ping) </div>
    </div>
    <div class="label">
        <input type="submit" value="Agregar Poll" />
    </div>
}